{% extends 'base.html' %}
{% block content %}
<div class="payment-bg py-5">
  <div class="container">
    <h1 class="mb-5 text-center" style="font-weight:bold; letter-spacing:2px;">
      <span style="font-size:2.2rem;">💳 付款結算</span>
    </h1>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <!-- 訂單摘要 -->
        <div class="card shadow-sm mb-4 payment-card">
          <div class="card-body">
            <h4 class="mb-3 text-primary" style="font-weight:bold;">訂單摘要</h4>
            <ul class="list-group mb-3">
              {% for item in order_items %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ item.book.title }} <span>x{{ item.quantity }}</span>
                <span class="text-success">${{ item.total_price }}</span>
              </li>
              {% endfor %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <strong>總金額</strong>
                <span class="text-danger fw-bold" style="font-size:1.2em;">${{ order_total }}</span>
              </li>
            </ul>
          </div>
        </div>
        <!-- 付款表單 -->
        <div class="card shadow-sm payment-card">
          <div class="card-body">
            <h4 class="mb-3 text-success" style="font-weight:bold;">選擇付款方式</h4>
            {% comment %} <form method="post" action="{% url 'orders:payment' %}"> {% endcomment %}
                <form method="post" action=""> 
                {% csrf_token %}
              <div class="mb-3">
                <label class="form-label fw-bold">付款方式：</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment_method" id="credit" value="credit" checked>
                  <label class="form-check-label" for="credit">信用卡 / Debit Card</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment_method" id="fps" value="fps">
                  <label class="form-check-label" for="fps">轉數快 FPS</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment_method" id="paypal" value="paypal">
                  <label class="form-check-label" for="paypal">PayPal</label>
                </div>
              </div>
              <!-- 信用卡資料（可根據 payment_method 動態顯示） -->
              <div class="mb-3">
                <label for="card_number" class="form-label">卡號</label>
                <input type="text" class="form-control" id="card_number" name="card_number" placeholder="1234 5678 9012 3456">
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="expiry" class="form-label">到期日</label>
                  <input type="text" class="form-control" id="expiry" name="expiry" placeholder="MM/YY">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="cvv" class="form-label">CVV</label>
                  <input type="text" class="form-control" id="cvv" name="cvv" placeholder="123">
                </div>
              </div

{% endblock %}