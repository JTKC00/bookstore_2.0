# 開心書店 - Django 電商平台

## 📖 項目概述

開心書店是一個基於 Django 5.2.1 框架開發的全功能線上書店電商平台。該項目提供完整的書籍瀏覽、購物車、訂單管理、多種付款方式以及用戶管理功能。

### 🌟 主要功能

#### 📚 書籍管理
- **書籍分類瀏覽**：按類別、子類別篩選書籍
- **搜尋功能**：支援標題、作者、出版社、ISBN 搜尋
- **推薦系統**：熱門書籍、新書推薦、精選推薦
- **書籍詳情**：完整的書籍資訊、圖片展示、庫存管理
- **FastAPI 整合搜尋**：外部 API 搜尋功能

#### 👤 用戶管理
- **用戶註冊/登入**：完整的認證系統
- **個人檔案管理**：可編輯個人資訊、聯絡方式、喜好類別
- **密碼管理**：密碼修改、重設功能
- **用戶 Profile**：自動創建用戶資料檔案

#### 🛒 購物車系統
- **商品加入購物車**：支援數量調整
- **購物車管理**：查看、編輯、刪除商品
- **即時計算**：自動計算小計和總計
- **智能過濾**：只顯示未下單商品

#### 📦 訂單管理
- **訂單創建**：完整的結帳流程
- **配送資訊**：收件人資訊、配送地址管理
- **訂單追蹤**：訂單狀態、付款狀態查詢
- **訂單歷史**：用戶訂單列表、分頁顯示
- **訂單詳情**：詳細的訂單商品資訊
- **訂單取消**：可在確認頁面取消訂單

#### 💳 多元付款系統
- **Stripe 信用卡付款**：支援國際信用卡
- **轉數快 FPS 付款**：香港本地轉帳
- **Webhook 整合**：即時付款狀態更新
- **付款通知**：郵件確認系統

#### 📧 通知系統
- **郵件通知**：付款成功/失敗通知
- **訂單確認**：詳細的訂單資訊郵件
- **系統日誌**：完整的操作記錄

#### 💬 客戶服務
- **聯絡表單**：客戶查詢系統
- **查詢管理**：後台查詢記錄管理



## 🚀 使用方法

### 1. 建立虛擬環境並安裝依賴

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. 設定環境變數

請在專案根目錄建立 `.env` 檔案，並填入資料庫、郵件、Stripe 等設定。

### 3. 遷移資料庫

```bash
python manage.py migrate
```

### 4. 啟動 Django 伺服器

```bash
python manage.py runserver
```

### 5. 啟動 FastAPI 搜尋服務（如有需要）

請進入 FastAPI 目錄，並執行：
uvicorn <檔案名稱>:<app物件名稱> --host 0.0.0.0 --port 8001
```bash
uvicorn main:app --host 0.0.0.0 --port 8001
```

---

## 🔮 未來功能規劃

- [x] **庫存管理**：自動扣減庫存 ✅ 已實現
- [x] **購物車狀態同步**：付款後購物車清空 ✅ 已修復
- [x] **訂單取消功能**：訂單確認頁面取消選項 ✅ 已實現
- [ ] **優惠券系統**：折扣碼功能
- [ ] **評論系統**：書籍評分和評論
- [ ] **推薦算法**：基於用戶行為的個性化推薦
- [ ] **多語言支援**：國際化功能
- [ ] **API 端點**：RESTful API 支援
- [ ] **行動應用**：React Native/Flutter App
- [ ] **數據分析**：銷售統計和報表
- [ ] **物流整合**：第三方物流 API
- [ ] **會員等級**：VIP 會員系統
- [ ] **競態條件優化**：高併發下單時的庫存鎖定
- [ ] **用戶體驗優化**：庫存不足時的前端提示動畫
 